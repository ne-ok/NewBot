üìå –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

–≠—Ç–æ Web API-–±–æ—Ç –¥–ª—è –í–ö–æ–Ω—Ç–∞–∫—Ç–µ, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ Callback API.
VK –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–±—ã—Ç–∏—è –Ω–∞ –≤–∞—à —Å–µ—Ä–≤–µ—Ä ‚Üí –≤–∞—à API –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∏—Ö ‚Üí –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç ‚Üí –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –æ—Ç–≤–µ—Ç —á–µ—Ä–µ–∑ messages.send.

üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
VKB_CB

‚îú‚îÄ‚îÄ Controllers(CallbackController.cs)
‚îÇ      
‚îÇ
‚îú‚îÄ‚îÄ Services(IMessageService.cs, MessageService.cs)
‚îÇ    
‚îÇ
‚îú‚îÄ‚îÄ VK(Models(VkCallbackRequest.cs, VkEvent.cs, VkMessage.cs))
‚îÇ     
‚îÇ                     
‚îú‚îÄ‚îÄ appsettings.json
‚îú‚îÄ‚îÄ Program.cs
‚îî‚îÄ‚îÄ VKB_CB.http

üìå –û–ø–∏—Å–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
üìç Program.cs

–ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
–†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç —Å–µ—Ä–≤–∏—Å—ã, HTTP-–∫–ª–∏–µ–Ω—Ç –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç Web API.

üìç appsettings.json

–§–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.
–•—Ä–∞–Ω–∏—Ç —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ –∏ —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –æ—Ç Callback API:

"VkSettings": {
  "Token": "–í–ê–®_–¢–û–ö–ï–ù",
  "Confirmation": "–°–¢–†–û–ö–ê_–ü–û–î–¢–í–ï–†–ñ–î–ï–ù–ò–Ø",
  "Secret": "–°–ï–ö–†–ï–¢_–ò–ó_–ù–ê–°–¢–†–û–ï–ö"
}

Controllers
üìç CallbackController.cs

–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –æ—Ç Callback API.
–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç confirm, message_new –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∏—Ö –≤ MessageService.

Services
üìç IMessageService.cs

–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è MessageService.

üìç MessageService.cs

–ì–ª–∞–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –±–æ—Ç–∞.
–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è, —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –æ—Ç–≤–µ—Ç, –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É –∏ –≤—ã–∑—ã–≤–∞–µ—Ç messages.send.

VK / Models
üìç VkCallbackRequest.cs

–û—Å–Ω–æ–≤–Ω–∞—è –º–æ–¥–µ–ª—å –≤—Ö–æ–¥—è—â–µ–≥–æ Callback API JSON.

üìç VkEvent.cs

–ú–æ–¥–µ–ª—å –æ–±—ä–µ–∫—Ç–∞ object.message.

üìç VkMessage.cs

–ú–æ–¥–µ–ª—å —Ç–µ–∫—Å—Ç–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è.
